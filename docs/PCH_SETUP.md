# PCH（プリコンパイル済みヘッダー）設定ガイド

## Visual Studio での設定手順

### 1. pch.cpp の設定
1. ソリューションエクスプローラーで `src/pch.cpp` を右クリック
2. **プロパティ** を選択
3. **C/C++** → **プリコンパイル済みヘッダー** を開く
4. **プリコンパイル済みヘッダー** を **作成 (/Yc)** に設定
5. **プリコンパイル済みヘッダー ファイル** を **pch.h** に設定
6. **OK** をクリック

### 2. プロジェクト全体の設定
1. プロジェクトを右クリック → **プロパティ**
2. **C/C++** → **プリコンパイル済みヘッダー** を開く
3. **プリコンパイル済みヘッダー** を **使用 (/Yu)** に設定
4. **プリコンパイル済みヘッダー ファイル** を **pch.h** に設定
5. **OK** をクリック

### 3. 既存ファイルの更新（任意）
既存の .cpp ファイルの先頭に以下を追加：
```cpp
#include "pch.h"
```

これだけで、以下のヘッダーが自動的にインクルードされます：
- すべてのECSコア（Entity, World）
- 基本コンポーネント（Transform, MeshRenderer, Rotator）
- すべてのシステム（Input, Graphics, Scene）
- サンプルコンポーネント

## 使用例

### Before（従来）
```cpp
#include "scenes/SceneManager.h"
#include "components/Transform.h"
#include "components/MeshRenderer.h"
#include "components/Rotator.h"
#include "components/Component.h"
#include <cstdlib>
#include <ctime>
#include <vector>

// コンポーネント定義...
```

### After（PCH使用）
```cpp
#include "pch.h"

// コンポーネント定義...
```

## メリット

1. **コードが簡潔に**: 1行のインクルードで必要なものがすべて使える
2. **ビルド高速化**: 頻繁に使うヘッダーが事前コンパイルされる
3. **メンテナンス性向上**: ヘッダーの管理が一箇所に集約

## トラブルシューティング

### エラー: "プリコンパイル済みヘッダーが見つかりません"
→ `pch.cpp` が「作成 (/Yc)」に設定されているか確認

### エラー: "pch.h が見つかりません"
→ インクルードディレクトリに `include` が追加されているか確認

### ビルドが遅い
→ PCHファイルに不要なヘッダーが含まれていないか確認
→ 頻繁に変更するヘッダーはPCHに含めない

## 注意事項

- **pch.h は頻繁に変更しない**: 変更すると全ファイルが再コンパイルされる
- **大きなヘッダーのみ追加**: 小さなヘッダーは直接インクルードした方が良い
- **プロジェクト固有のヘッダーは慎重に**: よく変更するものは避ける
